{% extends "base.html" %}
{% load staticfiles %}
{% block title %}Bandas{% endblock%}


{% block content %}
<div class="jumbo-header jumbo-band" >
    <div class="jumbotron">
      <div class="container text-center">
        <h1>BANDAS</h1>
        <p class="description">Un festival participativo con más de 140 grupos actuando en calles y plazas del Casco Histórico de Alcalá, Patromonio de la Humanidad</p>
      </div>
    </div>
</div>
<div class="header-bar text-center header-band">

</div>

<div class="container">

    <div class="clearfix tags">
    {%for tag in tags %}
    <div class="tag-filter pull-left card" style="background-color:{{tag.color}}" data-tag="{{tag.id}}">{{tag.name}}</div>
    {% endfor %}
        </div>


    <div class="clearfix row auto-clear resume-card-row">
        {% for band in bands %}
        <div class="col-sm-6 col-md-4 col-lg-4 resume-card-container">
          <a href="{% url 'band_detail' pk=band.pk%}" class="resume_link" title="{{band.name}}" style="border-color:{{band.tag.color}}">
              {% include 'band/resume_card.html' with band=band %}
          </a>
        </div>
         {% endfor %}
    </div>
    {% include 'common/pagination.html' with page=pros %}

</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="{% static "js/jquery.mosaicflow.min.js" %}"></script>
<script type="text/javascript">

var tags = $('.tags');
var bands = $('.mosaicflow__item');

  $('.gallery').mosaicflow({
    minColumns: 2,
    minItemWidth: 260
  }).on('mosaicflow-layout', function(){ $('.loading').fadeOut(); });

tags.on('click', '.tag-filter', function(){
    var tag = $(this);
    if (tag.hasClass('active')){
        tag.removeClass('active');
        tags.removeClass('filtered');
         $('.mosaicflow__item').show();
    }
    else{
        tags.addClass('filtered').find('.tag-filter').removeClass('active');
        tag.addClass('active');
        var filter = tag.attr('data-tag');
        $('.mosaicflow__item').hide().filter('.'+filter).show();
    }
});


</script>
{% endblock %}